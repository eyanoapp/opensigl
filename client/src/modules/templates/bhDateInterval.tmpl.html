<fieldset
  ng-form="DateIntervalForm"
  novalidate
  bh-date-interval>

  <div class="form-group"
       ng-class="{'has-error': DateIntervalForm.$submitted && (DateIntervalForm.dateFrom.$invalid || DateIntervalForm.dateTo.$invalid)}"
       style="margin-bottom:0">
    <label class="control-label">
      <span translate>{{ $ctrl.label }}</span>
      <span ng-if="$ctrl.selected" class="ml-2 bg-primary text-white p-1" translate>{{ $ctrl.selected }}</span>
    </label>
  </div>

  <div class="d-flex flex-row align-items-center justify-content-between mt-2">
    <div class="d-flex flex-row align-items-center gap-1">
      <a class="border px-2" ng-click="$ctrl.search(view)" ng-repeat="view in $ctrl.options" data-date-range="{{ ::view.range }}" href>
        <span translate>{{ ::view.translateKey }}</span>
      </a>
    </div>
    <div ng-if="$ctrl.canClear">
      <a href ng-click="$ctrl.clear()" tabindex="-1">
        <i class="bi bi-eraser"></i> <span translate>FORM.BUTTONS.CLEAR</span>
      </a>
    </div>
  </div>

  <div class="d-flex flex-row align-items-center justify-content-between gap-1" date-id="$ctrl.dateId" data-bh-date-interval>
    <div class="form-group col-md-5"
	       ng-class="{ 'has-error' : DateIntervalForm.$submitted && DateIntervalForm.dateFrom.$invalid }">
      <div class="input-group">
        <input
          id="modal-date-from"
          name="dateFrom"
          type="text"
          class="form-control"
          uib-datepicker-popup="{{ $ctrl.dateFormat }}"
          datepicker-options="$ctrl.pickerFromOptions"
          is-open="$ctrl.dateFromIsOpen"
          show-button-bar="false"
          ng-model="$ctrl.dateFrom"
          ng-change="$ctrl.onChangeDate()"
          placeholder="{{ $ctrl.startDatePlaceholder }}"
          ng-required="$ctrl.required">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" ng-click="$ctrl.dateFromIsOpen =! $ctrl.dateFromIsOpen">
            <i class="bi bi-calendar2"></i>
          </button>
        </span>
      </div>
      <div class="help-block" ng-messages="DateIntervalForm.dateFrom.$error" ng-show="DateIntervalForm.$submitted && DateIntervalForm.dateFrom.$invalid">
        <div ng-messages-include="modules/templates/messages.tmpl.html"></div>
      </div>
    </div>

    <div class="col-md-2 text-center">
      <hr />
    </div>

    <div class="form-group col-md-5"
	    ng-class="{ 'has-error' : $ctrl.dateRangeError || (DateIntervalForm.$submitted && DateIntervalForm.dateTo.$invalid) }">
      <div class="input-group">
        <input
          id="modal-date-to"
          name="dateTo"
          type="text"
          class="form-control"
          uib-datepicker-popup="{{ $ctrl.dateFormat }}"
          datepicker-options="$ctrl.pickerToOptions"
          is-open="$ctrl.dateToIsOpen"
          show-button-bar="false"
          ng-model="$ctrl.dateTo"
          ng-change="$ctrl.onChangeDate()"
          placeholder="{{ $ctrl.endDatePlaceholder }}"
          ng-required="$ctrl.required">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" ng-click="$ctrl.dateToIsOpen =! $ctrl.dateToIsOpen">
            <i class="bi bi-calendar2"></i>
          </button>
        </span>
      </div>
      <div class="help-block" ng-messages="DateIntervalForm.dateTo.$error" ng-show="DateIntervalForm.$submitted && DateIntervalForm.dateTo.$invalid">
        <div ng-messages-include="modules/templates/messages.tmpl.html"></div>
      </div>
    </div>
  </div>
</fieldset>
